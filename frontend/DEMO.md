# 演示指南

## 🎬 快速演示

### 步骤1：启动后端

```bash
# 终端1：启动后端API
cd backend
python run.py
```

等待看到：
```
INFO:     Uvicorn running on http://0.0.0.0:8000
```

### 步骤2：启动前端

```bash
# 终端2：启动前端
cd frontend
npm install  # 首次运行需要
npm run dev
```

等待看到：
```
  VITE v5.1.5  ready in 500 ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
```

### 步骤3：访问应用

打开浏览器访问：`http://localhost:5173`

## 📸 界面演示

### 1. 首页（股票列表）

访问 `http://localhost:5173` 会自动重定向到：
```
http://localhost:5173/stocks/b1/20251229
```

你会看到：

```
┌─────────────────────────────────────────────────────┐
│  HoraceQuant                    [b1] [2025-12-29]   │
├─────────────────────────────────────────────────────┤
│                                                      │
│  ┌─────────────────────┐  ┌─────────────────────┐  │
│  │ 002456  欧菲光      │  │ 600000  浦发银行    │  │
│  │                     │  │                     │  │
│  │ 10.65 ↓             │  │ 8.52 ↑              │  │
│  │ -0.04  -0.37%       │  │ +0.12  +1.43%       │  │
│  │                     │  │                     │  │
│  │ 最高 10.79 今开10.70│  │ 最高 8.60 今开 8.45 │  │
│  │ 最低 10.61 昨收10.69│  │ 最低 8.42 昨收 8.40 │  │
│  │                     │  │                     │  │
│  │ 成交额: 5.62亿      │  │ 成交额: 12.34亿     │  │
│  │ 换手率: 1.68%       │  │ 换手率: 2.45%       │  │
│  │ 总市值: 357.91亿    │  │ 总市值: 1234.56亿   │  │
│  │                     │  │                     │  │
│  │ [日K] [周K]         │  │ [日K] [周K]         │  │
│  │                     │  │                     │  │
│  │ ┌─────────────────┐ │  │ ┌─────────────────┐ │  │
│  │ │   K线图         │ │  │ │   K线图         │ │  │
│  │ │   + 趋势线      │ │  │ │   + 趋势线      │ │  │
│  │ └─────────────────┘ │  │ └─────────────────┘ │  │
│  │ ┌─────────────────┐ │  │ ┌─────────────────┐ │  │
│  │ │   成交量        │ │  │ │   成交量        │ │  │
│  │ └─────────────────┘ │  │ └─────────────────┘ │  │
│  │ ┌─────────────────┐ │  │ ┌─────────────────┐ │  │
│  │ │   MACD          │ │  │ │   MACD          │ │  │
│  │ └─────────────────┘ │  │ └─────────────────┘ │  │
│  │ ┌─────────────────┐ │  │ ┌─────────────────┐ │  │
│  │ │   KDJ           │ │  │ │   KDJ           │ │  │
│  │ └─────────────────┘ │  │ └─────────────────┘ │  │
│  └─────────────────────┘  └─────────────────────┘  │
│                                                      │
│                  [加载更多]                          │
└─────────────────────────────────────────────────────┘
```

### 2. 交互操作

#### 2.1 切换日K/周K

点击图表上方的 `[日K]` 或 `[周K]` 按钮：
- 图表会立即切换到对应周期
- 按钮会高亮显示当前周期

#### 2.2 缩放图表

**鼠标操作：**
- 滚轮向上：放大
- 滚轮向下：缩小

**触摸操作：**
- 双指捏合：缩小
- 双指分开：放大

#### 2.3 拖动查看历史

**鼠标操作：**
- 在图表上按住左键拖动

**触摸操作：**
- 单指左右滑动

#### 2.4 查看详细数据

将鼠标悬停在K线上：
- 显示十字光标
- 弹出提示框显示详细数据：
  - 日期
  - 开高低收
  - 成交量
  - 各项指标值

#### 2.5 查看股票详情

点击任意股票卡片：
- 跳转到详情页
- 全屏展示该股票图表
- 点击左上角"返回列表"按钮返回

### 3. 加载更多

滚动到页面底部：
- 点击 `[加载更多]` 按钮
- 自动加载下一页股票
- 支持无限滚动

### 4. 移动端演示

#### 4.1 使用手机访问

1. 确保手机和电脑在同一局域网
2. 修改 `vite.config.ts`：
   ```typescript
   server: {
     host: '0.0.0.0',  // 添加这行
     port: 5173,
     // ...
   }
   ```
3. 重启前端服务
4. 手机浏览器访问：`http://你的电脑IP:5173`

#### 4.2 Chrome DevTools 模拟

1. 打开 Chrome 开发者工具（F12）
2. 点击左上角"设备切换"图标（Ctrl+Shift+M）
3. 选择设备型号（如 iPhone 12 Pro）
4. 查看移动端效果

**移动端特点：**
- 1列布局
- 更大的触摸区域
- 优化的字体大小
- 手势操作支持

## 🎯 测试场景

### 场景1：查看选股结果

1. 访问首页
2. 查看当前策略（b1）和日期（2025-12-29）
3. 浏览股票列表
4. 观察涨跌情况（红涨绿跌）

### 场景2：分析单个股票

1. 点击感兴趣的股票卡片
2. 进入详情页
3. 切换日K/周K观察趋势
4. 查看技术指标：
   - MACD 金叉/死叉
   - KDJ 超买/超卖
   - 趋势线方向

### 场景3：对比多个股票

1. 在列表页同时查看多个股票
2. PC端可以并排对比（1x2布局）
3. 观察哪些股票趋势更好

### 场景4：历史回溯

1. 在图表上拖动到历史日期
2. 观察历史走势
3. 分析支撑位和压力位

### 场景5：切换日期

修改URL中的日期：
```
http://localhost:5173/stocks/b1/20251226
```

查看不同日期的选股结果。

## 📊 数据说明

### 示例数据结构

访问 API 查看原始数据：
```
http://localhost:8000/api/v1/picks/b1/20251229?limit=2
```

返回：
```json
{
  "code": 0,
  "message": "ok",
  "request_id": "xxx",
  "data": {
    "rule_name": "b1",
    "trade_date": "2025-12-29",
    "next_cursor": "000002",
    "items": [
      {
        "code": "000001",
        "name": "平安银行",
        "exchange": "SZ",
        "market_cap": 123456789000,
        "daily": [
          {
            "trade_date": "2025-12-29",
            "open": 10.5,
            "high": 10.8,
            "low": 10.4,
            "close": 10.7,
            "volume": 12345678,
            "turnover_rate": 1.23,
            "macd_dif": 0.05,
            "macd_dea": 0.03,
            "macd_hist": 0.02,
            "kdj_k": 65.5,
            "kdj_d": 60.2,
            "kdj_j": 75.1,
            "short_trend_line": 10.6,
            "bull_bear_line": 10.5
          }
        ],
        "weekly": [...]
      }
    ]
  }
}
```

## 🐛 故障排查

### 问题1：页面空白

**检查：**
```bash
# 1. 后端是否运行
curl http://localhost:8000/healthz

# 2. 前端是否启动
curl http://localhost:5173

# 3. 浏览器控制台是否有错误
# 按F12查看Console标签
```

### 问题2：图表不显示

**检查：**
1. Network 标签，查看 API 是否返回数据
2. Console 标签，查看是否有 ECharts 错误
3. 确认 `dailyData` 不为空

### 问题3：数据为空

**原因：** 该日期还没有选股结果

**解决：**
```bash
# 手动执行选股
cd backend
python ops/scripts/stock_picker_tdx.py \
  --rule rules/b1.tdx \
  --rule-name b1 \
  --trade-date 2025-12-29
```

### 问题4：加载很慢

**优化：**
1. 减少 `limit` 参数（默认10）
2. 使用流式接口（已默认）
3. 检查网络连接

## 🎨 自定义演示

### 修改默认日期

编辑 `src/router/index.ts`：
```typescript
{
  path: '/',
  redirect: '/stocks/b1/20251230'  // 改成你想要的日期
}
```

### 修改主题颜色

编辑 `src/assets/theme.css`：
```css
:root {
  --color-up: #ff0000;    /* 改成你喜欢的涨色 */
  --color-down: #00ff00;  /* 改成你喜欢的跌色 */
}
```

### 调整每页数量

编辑 `src/views/StockList.vue`：
```typescript
const stream = fetchPicksStream({
  // ...
  limit: 30  // 改成你想要的数量（1-50）
})
```

## 📹 录屏演示（建议）

### 使用 OBS Studio

1. 下载 OBS Studio
2. 添加"窗口捕获"源
3. 选择浏览器窗口
4. 开始录制

### 使用 Chrome 录屏

1. 打开 Chrome DevTools
2. 点击右上角"⋮" → More tools → Recorder
3. 点击"Start new recording"
4. 操作页面
5. 导出视频

## 🎓 学习路径

### 新手（第1天）
1. 启动项目
2. 浏览股票列表
3. 切换日K/周K
4. 查看股票详情

### 进阶（第2-3天）
1. 理解技术指标含义
2. 分析趋势线
3. 对比多个股票
4. 修改配置

### 高级（第4-7天）
1. 阅读源码
2. 添加新功能
3. 优化性能
4. 部署上线

## 🤝 反馈

如有问题或建议，欢迎：
- 提交 Issue
- 发起 Pull Request
- 联系开发者

---

**演示环境：**
- 操作系统：macOS / Windows / Linux
- 浏览器：Chrome 90+
- Node.js：18+
- Python：3.10+

**最后更新：** 2025-12-30

